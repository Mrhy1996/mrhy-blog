---
title: class文件解读
toc: true
date: 2021-09-24 23:07:07
tags: JVM
url: java-class
---

今天研究一手class文件的二进制构造，以提高一下自己钻研问题的深度。

<!--more-->

参考文章地址：https://www.cnblogs.com/signheart/p/14441383.html

# 准备一段java代码

```java
public class CooperTestCache {

    private static final Cache<String, String> cache = CacheBuilder.newBuilder().maximumSize(100).concurrencyLevel(20).expireAfterWrite(25, TimeUnit.MINUTES).build();


    public void test() {
        cache.put("1", "2");
        cache.put("2", "3");
        cache.put("3", "4");
    }

    public static void main(String[] args) throws ExecutionException {
      CooperTestCache.cache.put("1","2");
      CooperTestCache.cache.put("2","4");
      CooperTestCache.cache.put("3","5");
      CooperTestCache.cache.put("4","6");
        System.out.println(CooperTestCache.cache.get("88",()->{
            System.out.println("我执行了");
            return null;
        }));
    }

}
```



# 查看.class 文件

将代码编译后用如下命令打开。

> hexdump CooperTestCache.class 

得到二进制信息如下

```tex
0000000 ca fe ba be 00 00 00 34 00 83 0a 00 1c 00 35 09
0000010 00 1b 00 36 08 00 37 08 00 38 0b 00 39 00 3a 08
0000020 00 3b 08 00 3c 08 00 3d 08 00 3e 09 00 3f 00 40
0000030 08 00 41 12 00 00 00 47 0b 00 39 00 48 07 00 49
0000040 0a 00 4a 00 4b 08 00 4c 0a 00 4d 00 4e 05 00 00
0000050 00 00 00 00 00 64 0a 00 4d 00 4f 0a 00 4d 00 50
0000060 05 00 00 00 00 00 00 00 19 09 00 51 00 52 0a 00
0000070 4d 00 53 0a 00 4d 00 54 07 00 55 07 00 56 01 00
0000080 05 63 61 63 68 65 01 00 1f 4c 63 6f 6d 2f 67 6f
0000090 6f 67 6c 65 2f 63 6f 6d 6d 6f 6e 2f 63 61 63 68
00000a0 65 2f 43 61 63 68 65 3b 01 00 09 53 69 67 6e 61
00000b0 74 75 72 65 01 00 45 4c 63 6f 6d 2f 67 6f 6f 67
00000c0 6c 65 2f 63 6f 6d 6d 6f 6e 2f 63 61 63 68 65 2f
00000d0 43 61 63 68 65 3c 4c 6a 61 76 61 2f 6c 61 6e 67
00000e0 2f 53 74 72 69 6e 67 3b 4c 6a 61 76 61 2f 6c 61
00000f0 6e 67 2f 53 74 72 69 6e 67 3b 3e 3b 01 00 06 3c
0000100 69 6e 69 74 3e 01 00 03 28 29 56 01 00 04 43 6f
0000110 64 65 01 00 0f 4c 69 6e 65 4e 75 6d 62 65 72 54
0000120 61 62 6c 65 01 00 12 4c 6f 63 61 6c 56 61 72 69
0000130 61 62 6c 65 54 61 62 6c 65 01 00 04 74 68 69 73
0000140 01 00 35 4c 63 6f 6d 2f 6d 72 68 79 2f 73 70 72
0000150 69 6e 67 66 72 61 6d 65 77 6f 72 6b 2f 62 65 61
0000160 6e 73 2f 74 65 73 74 2f 43 6f 6f 70 65 72 54 65
0000170 73 74 43 61 63 68 65 3b 01 00 04 74 65 73 74 01
0000180 00 04 6d 61 69 6e 01 00 16 28 5b 4c 6a 61 76 61
0000190 2f 6c 61 6e 67 2f 53 74 72 69 6e 67 3b 29 56 01
00001a0 00 04 61 72 67 73 01 00 13 5b 4c 6a 61 76 61 2f
00001b0 6c 61 6e 67 2f 53 74 72 69 6e 67 3b 01 00 0a 45
00001c0 78 63 65 70 74 69 6f 6e 73 07 00 57 01 00 0d 6c
00001d0 61 6d 62 64 61 24 6d 61 69 6e 24 30 01 00 14 28
00001e0 29 4c 6a 61 76 61 2f 6c 61 6e 67 2f 53 74 72 69
00001f0 6e 67 3b 07 00 58 01 00 08 3c 63 6c 69 6e 69 74
0000200 3e 01 00 0a 53 6f 75 72 63 65 46 69 6c 65 01 00
0000210 14 43 6f 6f 70 65 72 54 65 73 74 43 61 63 68 65
0000220 2e 6a 61 76 61 0c 00 21 00 22 0c 00 1d 00 1e 01
0000230 00 01 31 01 00 01 32 07 00 59 0c 00 5a 00 5b 01
0000240 00 01 33 01 00 01 34 01 00 01 35 01 00 01 36 07
0000250 00 5c 0c 00 5d 00 5e 01 00 02 38 38 01 00 10 42
0000260 6f 6f 74 73 74 72 61 70 4d 65 74 68 6f 64 73 0f
0000270 06 00 5f 10 00 60 0f 06 00 61 10 00 30 0c 00 62
0000280 00 63 0c 00 64 00 65 01 00 10 6a 61 76 61 2f 6c
0000290 61 6e 67 2f 53 74 72 69 6e 67 07 00 66 0c 00 67
00002a0 00 68 01 00 0c e6 88 91 e6 89 a7 e8 a1 8c e4 ba
00002b0 86 07 00 69 0c 00 6a 00 6b 0c 00 6c 00 6d 0c 00
00002c0 6e 00 6f 07 00 70 0c 00 71 00 72 0c 00 73 00 74
00002d0 0c 00 75 00 76 01 00 33 63 6f 6d 2f 6d 72 68 79
00002e0 2f 73 70 72 69 6e 67 66 72 61 6d 65 77 6f 72 6b
00002f0 2f 62 65 61 6e 73 2f 74 65 73 74 2f 43 6f 6f 70
0000300 65 72 54 65 73 74 43 61 63 68 65 01 00 10 6a 61
0000310 76 61 2f 6c 61 6e 67 2f 4f 62 6a 65 63 74 01 00
0000320 27 6a 61 76 61 2f 75 74 69 6c 2f 63 6f 6e 63 75
0000330 72 72 65 6e 74 2f 45 78 65 63 75 74 69 6f 6e 45
0000340 78 63 65 70 74 69 6f 6e 01 00 13 6a 61 76 61 2f
0000350 6c 61 6e 67 2f 45 78 63 65 70 74 69 6f 6e 01 00
0000360 1d 63 6f 6d 2f 67 6f 6f 67 6c 65 2f 63 6f 6d 6d
0000370 6f 6e 2f 63 61 63 68 65 2f 43 61 63 68 65 01 00
0000380 03 70 75 74 01 00 27 28 4c 6a 61 76 61 2f 6c 61
0000390 6e 67 2f 4f 62 6a 65 63 74 3b 4c 6a 61 76 61 2f
00003a0 6c 61 6e 67 2f 4f 62 6a 65 63 74 3b 29 56 01 00
00003b0 10 6a 61 76 61 2f 6c 61 6e 67 2f 53 79 73 74 65
00003c0 6d 01 00 03 6f 75 74 01 00 15 4c 6a 61 76 61 2f
00003d0 69 6f 2f 50 72 69 6e 74 53 74 72 65 61 6d 3b 0a
00003e0 00 77 00 78 01 00 14 28 29 4c 6a 61 76 61 2f 6c
00003f0 61 6e 67 2f 4f 62 6a 65 63 74 3b 0a 00 1b 00 79
0000400 01 00 04 63 61 6c 6c 01 00 21 28 29 4c 6a 61 76
0000410 61 2f 75 74 69 6c 2f 63 6f 6e 63 75 72 72 65 6e
0000420 74 2f 43 61 6c 6c 61 62 6c 65 3b 01 00 03 67 65
0000430 74 01 00 45 28 4c 6a 61 76 61 2f 6c 61 6e 67 2f
0000440 4f 62 6a 65 63 74 3b 4c 6a 61 76 61 2f 75 74 69
0000450 6c 2f 63 6f 6e 63 75 72 72 65 6e 74 2f 43 61 6c
0000460 6c 61 62 6c 65 3b 29 4c 6a 61 76 61 2f 6c 61 6e
0000470 67 2f 4f 62 6a 65 63 74 3b 01 00 13 6a 61 76 61
0000480 2f 69 6f 2f 50 72 69 6e 74 53 74 72 65 61 6d 01
0000490 00 07 70 72 69 6e 74 6c 6e 01 00 15 28 4c 6a 61
00004a0 76 61 2f 6c 61 6e 67 2f 53 74 72 69 6e 67 3b 29
00004b0 56 01 00 24 63 6f 6d 2f 67 6f 6f 67 6c 65 2f 63
00004c0 6f 6d 6d 6f 6e 2f 63 61 63 68 65 2f 43 61 63 68
00004d0 65 42 75 69 6c 64 65 72 01 00 0a 6e 65 77 42 75
00004e0 69 6c 64 65 72 01 00 28 28 29 4c 63 6f 6d 2f 67
00004f0 6f 6f 67 6c 65 2f 63 6f 6d 6d 6f 6e 2f 63 61 63
0000500 68 65 2f 43 61 63 68 65 42 75 69 6c 64 65 72 3b
0000510 01 00 0b 6d 61 78 69 6d 75 6d 53 69 7a 65 01 00
0000520 29 28 4a 29 4c 63 6f 6d 2f 67 6f 6f 67 6c 65 2f
0000530 63 6f 6d 6d 6f 6e 2f 63 61 63 68 65 2f 43 61 63
0000540 68 65 42 75 69 6c 64 65 72 3b 01 00 10 63 6f 6e
0000550 63 75 72 72 65 6e 63 79 4c 65 76 65 6c 01 00 29
0000560 28 49 29 4c 63 6f 6d 2f 67 6f 6f 67 6c 65 2f 63
0000570 6f 6d 6d 6f 6e 2f 63 61 63 68 65 2f 43 61 63 68
0000580 65 42 75 69 6c 64 65 72 3b 01 00 1d 6a 61 76 61
0000590 2f 75 74 69 6c 2f 63 6f 6e 63 75 72 72 65 6e 74
00005a0 2f 54 69 6d 65 55 6e 69 74 01 00 07 4d 49 4e 55
00005b0 54 45 53 01 00 1f 4c 6a 61 76 61 2f 75 74 69 6c
00005c0 2f 63 6f 6e 63 75 72 72 65 6e 74 2f 54 69 6d 65
00005d0 55 6e 69 74 3b 01 00 10 65 78 70 69 72 65 41 66
00005e0 74 65 72 57 72 69 74 65 01 00 48 28 4a 4c 6a 61
00005f0 76 61 2f 75 74 69 6c 2f 63 6f 6e 63 75 72 72 65
0000600 6e 74 2f 54 69 6d 65 55 6e 69 74 3b 29 4c 63 6f
0000610 6d 2f 67 6f 6f 67 6c 65 2f 63 6f 6d 6d 6f 6e 2f
0000620 63 61 63 68 65 2f 43 61 63 68 65 42 75 69 6c 64
0000630 65 72 3b 01 00 05 62 75 69 6c 64 01 00 21 28 29
0000640 4c 63 6f 6d 2f 67 6f 6f 67 6c 65 2f 63 6f 6d 6d
0000650 6f 6e 2f 63 61 63 68 65 2f 43 61 63 68 65 3b 07
0000660 00 7a 0c 00 7b 00 7f 0c 00 2f 00 30 01 00 22 6a
0000670 61 76 61 2f 6c 61 6e 67 2f 69 6e 76 6f 6b 65 2f
0000680 4c 61 6d 62 64 61 4d 65 74 61 66 61 63 74 6f 72
0000690 79 01 00 0b 6d 65 74 61 66 61 63 74 6f 72 79 07
00006a0 00 81 01 00 06 4c 6f 6f 6b 75 70 01 00 0c 49 6e
00006b0 6e 65 72 43 6c 61 73 73 65 73 01 00 cc 28 4c 6a
00006c0 61 76 61 2f 6c 61 6e 67 2f 69 6e 76 6f 6b 65 2f
00006d0 4d 65 74 68 6f 64 48 61 6e 64 6c 65 73 24 4c 6f
00006e0 6f 6b 75 70 3b 4c 6a 61 76 61 2f 6c 61 6e 67 2f
00006f0 53 74 72 69 6e 67 3b 4c 6a 61 76 61 2f 6c 61 6e
0000700 67 2f 69 6e 76 6f 6b 65 2f 4d 65 74 68 6f 64 54
0000710 79 70 65 3b 4c 6a 61 76 61 2f 6c 61 6e 67 2f 69
0000720 6e 76 6f 6b 65 2f 4d 65 74 68 6f 64 54 79 70 65
0000730 3b 4c 6a 61 76 61 2f 6c 61 6e 67 2f 69 6e 76 6f
0000740 6b 65 2f 4d 65 74 68 6f 64 48 61 6e 64 6c 65 3b
0000750 4c 6a 61 76 61 2f 6c 61 6e 67 2f 69 6e 76 6f 6b
0000760 65 2f 4d 65 74 68 6f 64 54 79 70 65 3b 29 4c 6a
0000770 61 76 61 2f 6c 61 6e 67 2f 69 6e 76 6f 6b 65 2f
0000780 43 61 6c 6c 53 69 74 65 3b 07 00 82 01 00 25 6a
0000790 61 76 61 2f 6c 61 6e 67 2f 69 6e 76 6f 6b 65 2f
00007a0 4d 65 74 68 6f 64 48 61 6e 64 6c 65 73 24 4c 6f
00007b0 6f 6b 75 70 01 00 1e 6a 61 76 61 2f 6c 61 6e 67
00007c0 2f 69 6e 76 6f 6b 65 2f 4d 65 74 68 6f 64 48 61
00007d0 6e 64 6c 65 73 00 21 00 1b 00 1c 00 00 00 01 00
00007e0 1a 00 1d 00 1e 00 01 00 1f 00 00 00 02 00 20 00
00007f0 05 00 01 00 21 00 22 00 01 00 23 00 00 00 2f 00
0000800 01 00 01 00 00 00 05 2a b7 00 01 b1 00 00 00 02
0000810 00 24 00 00 00 06 00 01 00 00 00 0e 00 25 00 00
0000820 00 0c 00 01 00 00 00 05 00 26 00 27 00 00 00 01
0000830 00 28 00 22 00 01 00 23 00 00 00 5b 00 03 00 01
0000840 00 00 00 25 b2 00 02 12 03 12 04 b9 00 05 03 00
0000850 b2 00 02 12 04 12 06 b9 00 05 03 00 b2 00 02 12
0000860 06 12 07 b9 00 05 03 00 b1 00 00 00 02 00 24 00
0000870 00 00 12 00 04 00 00 00 14 00 0c 00 15 00 18 00
0000880 16 00 24 00 17 00 25 00 00 00 0c 00 01 00 00 00
0000890 25 00 26 00 27 00 00 00 09 00 29 00 2a 00 02 00
00008a0 23 00 00 00 87 00 04 00 01 00 00 00 49 b2 00 02
00008b0 12 03 12 04 b9 00 05 03 00 b2 00 02 12 04 12 07
00008c0 b9 00 05 03 00 b2 00 02 12 06 12 08 b9 00 05 03
00008d0 00 b2 00 02 12 07 12 09 b9 00 05 03 00 b2 00 0a
00008e0 b2 00 02 12 0b ba 00 0c 00 00 b9 00 0d 03 00 c0
00008f0 00 0e b6 00 0f b1 00 00 00 02 00 24 00 00 00 1a
0000900 00 06 00 00 00 1a 00 0c 00 1b 00 18 00 1c 00 24
0000910 00 1d 00 30 00 1e 00 48 00 22 00 25 00 00 00 0c
0000920 00 01 00 00 00 49 00 2b 00 2c 00 00 00 2d 00 00
0000930 00 04 00 01 00 2e 10 0a 00 2f 00 30 00 02 00 23
0000940 00 00 00 26 00 02 00 00 00 00 00 0a b2 00 0a 12
0000950 10 b6 00 0f 01 b0 00 00 00 01 00 24 00 00 00 0a
0000960 00 02 00 00 00 1f 00 08 00 20 00 2d 00 00 00 04
0000970 00 01 00 31 00 08 00 32 00 22 00 01 00 23 00 00
0000980 00 36 00 04 00 00 00 00 00 1e b8 00 11 14 00 12
0000990 b6 00 14 10 14 b6 00 15 14 00 16 b2 00 18 b6 00
00009a0 19 b6 00 1a b3 00 02 b1 00 00 00 01 00 24 00 00
00009b0 00 06 00 01 00 00 00 10 00 03 00 33 00 00 00 02
00009c0 00 34 00 7e 00 00 00 0a 00 01 00 7c 00 80 00 7d
00009d0 00 19 00 42 00 00 00 0c 00 01 00 43 00 03 00 44
00009e0 00 45 00 46                                    
00009e4

```

